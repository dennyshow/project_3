{% extends 'index.html'%} {% block content %}

<h3>Edit Recipe</h3>
<div class="row">
    <form novalidate action="" method="POST" enctype="multipart/form-data" class="col s12">
        {{form.hidden_tag()}}

        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">restaurant_menu</i> {{ form.cuisine }}
            </div>
            {% for error in form.cuisine.errors %}
            <span style="color: red"> {{ error }}</span> {% endfor %}
        </div>
        {% if not cuisine.image %}
        <div class="input-field col s12">
            <i class="material-icons prefix"> attachment </i> {{ form.file(type="file") }}
        </div>
        {% else %}
        <div id="imageName" style="display:block" class="input-field col s12">
            <i class="material-icons prefix"> attachment </i> <span>{{ cuisine.image }}</span>
            <span onclick="removeImage()" class="btn">x</span>
        </div>
        <div id="imageFile" style="display:none" class="input-field col s12">
            <i class="material-icons prefix"> attachment </i> {{ form.file(type="file") }}
        </div>
        {% endif %}

        <div class="input-field col s12">

            <i class="material-icons prefix">restaurant</i> {{ form.recipe.label }} {{ form.recipe(class='validate')}} {% for error in form.recipe.errors %}
                <span style="color: red"> {{ error }}</span> {% endfor %}

        </div>
        <div class="input-field col s12">
            <i class="material-icons prefix"> whatshot</i> {{ form.allergens.label }} {{ form.allergens(class='validate')}} {% for error in form.allergens.errors %}
                <span style="color: red"> {{ error }}</span> {% endfor %}
        </div>
        <div class="input-field col s12">
            <i class="material-icons prefix">room_service</i> {{ form.ingredients.label }} {{ form.ingredients(class='materialize-textarea', placeholder="Use semicolon to separate steps")}} {% for error in form.ingredients.errors %}
                <span style="color: red"> {{ error }}</span> {% endfor %}
        </div>
        <div class="input-field col s12">
            <i class="material-icons prefix">menu</i> {{ form.methods.label }} {{ form.methods(class='materialize-textarea') }} {% for error in form.methods.errors %}
                <span style="color: red"> {{ error }}</span> {% endfor %}
        </div>

        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">public</i> {{ form.country }}
            </div>
            {% for error in form.country.errors %}
                <span style="color: red"> {{ error }}</span> {% endfor %}
        </div>
        <div class="row">
            <button class="btn waves-effect waves-light" type="submit" name="action">Edit Recipe
            <i class="material-icons right">history</i>
         </button>
        </div>
    </form>
</div>
<script type="text/javascript">
    function removeImage() {
        let fil = document.getElementById('imageFile');
        let filn = document.getElementById('imageName');
        fil.style.display = 'block';
        filn.style.display = 'none';
    }
</script>
{% endblock %}
