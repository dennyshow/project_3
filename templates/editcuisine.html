{% extends 'index.html'%} {% block content %}


                                   {# EDIT CUISINE SECT #}

<h3>Edit Cuisine</h3>
<div class="row">
                                      {# FORM END #}
                                      
    <form novalidate action="" method="POST" enctype="multipart/form-data" class="col s12 m12">
        {{form.hidden_tag()}}
                        
                                     {# SelectField #}
        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">restaurant_menu</i> {{ form.cuisine }}
            </div>
            {% for error in form.cuisine.errors %}
            <span style="color: red"> {{ error }}</span> {% endfor %}
        </div>
            
                                    {# FileField Start #}
        {% if not cuisine.image %}
        <div class="input-field col s12">
            <i class="material-icons prefix"> attachment </i> {{ form.file(type="file") }}
        </div>
        {% else %}
        <div id="imageName" style="display:block" class="input-field col s12">
            <i class="material-icons prefix"> attachment </i> <span class="file-align">{{ cuisine.image }}</span>
            <span onclick="removeImage()" class="btn">x</span>
        </div>
        <div id="imageFile" style="display:none" class="input-field col s12">
            <i class="material-icons prefix"> attachment </i> {{ form.file(type="file") }}
        </div>
        {% endif %}
                                    {# FileField End #}
                                    
                    
                                    {# TextField Start #}
        <div class="input-field col s12">
            <i class="material-icons prefix">restaurant</i> {{ form.recipe.label }} {{ form.recipe(class='validate')}} {% for error in form.recipe.errors %}
            <span style="color: red"> {{ error }}</span> {% endfor %}

        </div>
        <div class="input-field col s12">
            <i class="material-icons prefix"> whatshot</i> {{ form.allergens.label }} {{ form.allergens(class='validate')}} {% for error in form.allergens.errors %}
            <span style="color: red"> {{ error }}</span> {% endfor %}
        </div>
                                    {# TextField End #}
                                    
        
                                    {# Textarea Start #}
        <div class="input-field col s12">
            <i class="material-icons prefix">room_service</i> {{ form.ingredients.label }} {{ form.ingredients(class='materialize-textarea', placeholder="Use semicolon to separate steps")}} {% for error in form.ingredients.errors %}
            <span style="color: red"> {{ error }}</span> {% endfor %}
        </div>
        <div class="input-field col s12">
            <i class="material-icons prefix">menu</i> {{ form.methods.label }} {{ form.methods(class='materialize-textarea') }} {% for error in form.methods.errors %}
            <span style="color: red"> {{ error }}</span> {% endfor %}
        </div>
                                    {# Textarea End #}
                        
                        
                                    {# SelectField Start #}
        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">public</i> {{ form.country }}
            </div>
            {% for error in form.country.errors %}
            <span style="color: red"> {{ error }}</span> {% endfor %}
        </div>
        
                                {# SelectField End #}
                                
                        
                                    {# Button Start #}
        
            <button class="btn-large waves-effect waves-light" type="submit" name="action">Edit Cuisine
            <i class="material-icons right">update</i>
         </button>
                                    {# Button End #}
        
    </form>
    
                                            {# FORM END #}
                                            
</div>

                                 {# SCRIPT START #}
                                 
                         {# Javascript to allow editable image #}
                         
<script type="text/javascript">
    function removeImage() {
        let fil = document.getElementById('imageFile');
        let filn = document.getElementById('imageName');
        fil.style.display = 'block';
        filn.style.display = 'none';
    }
</script>

                                {# SCRIPT END #}
                                
{% endblock %}
